#! /usr/bin/env python

'''
+-----------------------------------------------------------------------+ 
|                                rsubset                                |
|                                                                       |
| Author: Nic H.                                                        |
| Date: 2016-Mar-14                                                     |
|                                                                       |
| Prints a random subset of the lines from stdin without repetition.    |
| This program buffers the input internally so dont give it too big of  |
| a list.                                                               |
|                                                                       |
| Usage:                                                                |
|     rsubset <number of items>                                         |
+-----------------------------------------------------------------------+
'''

import sys
import random
import getopt

def rsubset():
    try:
        opts, args = getopt.getopt(sys.argv[1:], "h", ["help"])
    except getopt.error, msg:
        print msg
        print "for help use --help"
        sys.exit(2)
    for o, a in opts:
        if o in ("-h", "--help") or len(args) == 0:
            print __doc__
            sys.exit(0)
    num=int(args[0])
    print "\n".join([v for v in random.sample([ l.strip() for l in sys.stdin], num)])

if __name__ == "__main__":
    rsubset()
